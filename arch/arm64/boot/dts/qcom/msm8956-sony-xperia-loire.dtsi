// SPDX-License-Identifier: GPL-2.0
/* Copyright (C) 2014 Sony Mobile Communications Inc.
 * Copyright (c) 2016-2019 AngeloGioacchino Del Regno <kholk11@gmail.com>
 */

#include "msm8956.dtsi"

/ {
	aliases {
		serial0 = &blsp2_uart2;
	};

	chosen {
		stdout-path = "serial0";
	};

	reserved-memory {
		ramoops {
			compatible = "removed-dma-pool", "ramoops";
			no-map;
			reg = <0 0x57f00000 0 0x00100000>;
			record-size = <0x20000>;
			console-size = <0x40000>;
			ftrace-size = <0x20000>;
			pmsg-size = <0x20000>;
			ecc-size = <16>;
			status = "ok";
		};
	};
};

&soc {
	blsp2_uart2: serial@7af0000 {
		compatible = "qcom,msm-uartdm-v1.4", "qcom,msm-uartdm";
		reg = <0x7af0000 0x200>;
		interrupts = <GIC_SPI 307 IRQ_TYPE_LEVEL_HIGH>;
		clocks = <&gcc GCC_BLSP2_UART2_APPS_CLK>,
			 <&gcc GCC_BLSP2_AHB_CLK>;
		clock-names = "core", "iface";
		status = "okay";
	};
};

&blsp1_uart1 {
	status = "okay";
};

&blsp1_uart2 {
	status = "okay";
};

&sdhc_2 {
	status = "okay";
};

&sdhc_3 {
	brcmf: brcmf@1 {
		reg = <1>;
		compatible = "brcm,bcm4329-fmac";
		interrupt-parent = <&msm_gpio>;
		interrupts = <45 IRQ_TYPE_LEVEL_LOW>;
		interrupt-names = "host-wake";
	};
};
	

&msm_gpio {
	gpio-reserved-ranges = <0 4>;

	blsp2_uart2_active: blsp2_uart2_active {
		mux {
			pins = "gpio20", "gpio21";
			function = "blsp_uart6";
		};
		config {
			pins = "gpio20", "gpio21";
			drive-strength = <4>;
			bias-disable;
		};
	};

	blsp2_uart2_sleep: blsp2_uart2_sleep {
		mux {
			pins = "gpio20", "gpio21";
			function = "gpio";
		};
		config {
			pins = "gpio20", "gpio21";
			drive-strength = <2>;
			bias-disable;
		};
	};
};
